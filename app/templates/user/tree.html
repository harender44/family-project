{% extends 'user_base.html' %}

{% block user_content %}

{% if relatives %}

<div class="tree-container">
{% for rel in relatives %}

    {% if relatives[rel] %}
    <div class="layer">
        {% for r in relatives[rel] %}
        {% if user.first_name == r.first_name %}
        
            <div class="node-box">
                <div class="node-options">
                    <i class="fa-solid fa-plus add-relation-click" value={{ r.id }}></i>
                    <p value={{ r.id }}>S</p>
                </div>
                <div class="node-content" style="background: blue">
                    <div class="node-content-in">
                        <p>{{ r.first_name }}</p>
                        <p>Myself</p>
                    </div>
                </div>
            </div>
        {% else %}
            <div class="node-box">
                <div class="node-options">
                    <i class="fa-solid fa-plus add-relation-click" value={{ r.id }}></i>
                    <i class="fa-solid fa-trash-can delete-relation-click" value={{ r.id }}></i>
                    <p value={{ r.id }}>S</p>
                </div>
                <div class="node-content">
                    <div class="node-content-in">
                        <p>{{ r.first_name }}</p>
                        <p>{{ r.id }}</p>
                        <p>{{ rel }}</p>
                    </div>
                </div>
            </div>
        {% endif %}
        
        {% endfor %}
        
        </div>
    </div>
    
    
    {% endif %}

{% endfor %}
</div>

<div id="add-relation-form" style="display:none">
    <form>
        <div class="form-group">
            <label for="First name">First Name</label>
            <input type="text" class="form-control" name="f_name" placeholder="Enter your first name">
        </div>
        <div class="form-group">
            <label for="Relation Name">Relation Name</label>
            <input type="text" class="form-control" name="relation_name" placeholder="He/She is your ...">
        </div>
        <div class="form-group">
          <label for="Date of Birth">Date of birth</label>
          <input type="date" class="form-control" name="dob">
        </div>
        <div class="form-group">
            <label for="Place of Birth">Place of birth</label>
            <input type="text" class="form-control" name="palce_of_birth">
        </div>
        <div>
            <label for="Gender">Gender:</label>
            <select name="gender">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
        </div> 
        <input type="submit">
    </form>
</div>

{% endif %}

{% endblock user_content %}

